<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Modified cross-validation for glmnet — cv.glmnet.mod • S4renoir</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Modified cross-validation for glmnet — cv.glmnet.mod" />
<meta property="og:description" content="Modified cross-validation for glmnet" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">S4renoir</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Modified cross-validation for glmnet</h1>
    
    <div class="hidden name"><code>cv.glmnet.mod.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Modified cross-validation for glmnet</p>
    </div>

    <pre class="usage"><span class='fu'>cv.glmnet.mod</span><span class='op'>(</span>
  <span class='va'>x</span>,
  <span class='va'>y</span>,
  weights <span class='op'>=</span> <span class='cn'>NULL</span>,
  offset <span class='op'>=</span> <span class='cn'>NULL</span>,
  lambda <span class='op'>=</span> <span class='cn'>NULL</span>,
  type.measure <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"default"</span>, <span class='st'>"mse"</span>, <span class='st'>"deviance"</span>, <span class='st'>"class"</span>, <span class='st'>"auc"</span>, <span class='st'>"mae"</span>, <span class='st'>"C"</span><span class='op'>)</span>,
  nfolds <span class='op'>=</span> <span class='fl'>10</span>,
  foldid <span class='op'>=</span> <span class='cn'>NULL</span>,
  alignment <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"lambda"</span>, <span class='st'>"fraction"</span><span class='op'>)</span>,
  grouped <span class='op'>=</span> <span class='cn'>TRUE</span>,
  keep <span class='op'>=</span> <span class='cn'>FALSE</span>,
  parallel <span class='op'>=</span> <span class='cn'>FALSE</span>,
  gamma <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0.25</span>, <span class='fl'>0.5</span>, <span class='fl'>0.75</span>, <span class='fl'>1</span><span class='op'>)</span>,
  relax <span class='op'>=</span> <span class='cn'>FALSE</span>,
  trace.it <span class='op'>=</span> <span class='fl'>0</span>,
  screening.nvar <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>50</span>, <span class='fl'>100</span>, <span class='fl'>1000</span><span class='op'>)</span>,
  screening.method <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"none"</span>, <span class='st'>"default"</span>, <span class='st'>"alternative"</span><span class='op'>)</span>,
  <span class='va'>screening.args</span>,
  keep.fit <span class='op'>=</span> <span class='cn'>FALSE</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p><code>x</code> matrix as in <code>glmnet</code>.</p></td>
    </tr>
    <tr>
      <th>y</th>
      <td><p>response <code>y</code> as in <code>glmnet</code>.</p></td>
    </tr>
    <tr>
      <th>weights</th>
      <td><p>Observation weights; defaults to 1 per observation</p></td>
    </tr>
    <tr>
      <th>offset</th>
      <td><p>Offset vector (matrix) as in <code>glmnet</code></p></td>
    </tr>
    <tr>
      <th>lambda</th>
      <td><p>Optional user-supplied lambda sequence; default is
<code>NULL</code>, and <code>glmnet</code> chooses its own sequence. Note that this is done
for the full model (master sequence), and separately for each fold.
The fits are then alligned using the master sequence (see the <code>allignment</code>
argument for additional details). Adapting <code>lambda</code> for each fold
leads to better convergence. When <code>lambda</code> is supplied, the same sequence
is used everywhere, but in some GLMs can lead to convergence issues.</p></td>
    </tr>
    <tr>
      <th>type.measure</th>
      <td><p>loss to use for cross-validation. Currently five
options, not all available for all models. The default is
<code>type.measure="deviance"</code>, which uses squared-error for gaussian models
(a.k.a <code>type.measure="mse"</code> there), deviance for logistic and poisson
regression, and partial-likelihood for the Cox model.
<code>type.measure="class"</code> applies to binomial and multinomial logistic
regression only, and gives misclassification error.
<code>type.measure="auc"</code> is for two-class logistic regression only, and
gives area under the ROC curve. <code>type.measure="mse"</code> or
<code>type.measure="mae"</code> (mean absolute error) can be used by all models
except the <code>"cox"</code>; they measure the deviation from the fitted mean to
the response.
<code>type.measure="C"</code> is Harrel's concordance measure, only available for <code>cox</code> models.</p></td>
    </tr>
    <tr>
      <th>nfolds</th>
      <td><p>number of folds - default is 10. Although <code>nfolds</code> can be
as large as the sample size (leave-one-out CV), it is not recommended for
large datasets. Smallest value allowable is <code>nfolds=3</code></p></td>
    </tr>
    <tr>
      <th>foldid</th>
      <td><p>an optional vector of values between 1 and <code>nfold</code>
identifying what fold each observation is in. If supplied, <code>nfold</code> can
be missing.</p></td>
    </tr>
    <tr>
      <th>alignment</th>
      <td><p>This is an experimental argument, designed to fix the
problems users were having with CV, with possible values <code>"lambda"</code>
(the default) else <code>"fraction"</code>. With <code>"lambda"</code> the <code>lambda</code>
values from the master fit (on all the data) are used to line up the
predictions from each of the folds. In some cases this can give strange
values, since the effective <code>lambda</code> values in each fold could be quite
different. With <code>"fraction"</code> we line up the predictions in each fold
according to the fraction of progress along the regularization. If in the
call a <code>lambda</code> argument is also provided, <code>alignment="fraction"</code>
is ignored (with a warning).</p></td>
    </tr>
    <tr>
      <th>grouped</th>
      <td><p>This is an experimental argument, with default <code>TRUE</code>,
and can be ignored by most users. For all models except the <code>"cox"</code>,
this refers to computing <code>nfolds</code> separate statistics, and then using
their mean and estimated standard error to describe the CV curve. If
<code>grouped=FALSE</code>, an error matrix is built up at the observation level
from the predictions from the <code>nfold</code> fits, and then summarized (does
not apply to <code>type.measure="auc"</code>). For the <code>"cox"</code> family,
<code>grouped=TRUE</code> obtains the CV partial likelihood for the Kth fold by
<em>subtraction</em>; by subtracting the log partial likelihood evaluated on
the full dataset from that evaluated on the on the (K-1)/K dataset. This
makes more efficient use of risk sets. With <code>grouped=FALSE</code> the log
partial likelihood is computed only on the Kth fold</p></td>
    </tr>
    <tr>
      <th>keep</th>
      <td><p>If <code>keep=TRUE</code>, a <em>prevalidated</em> array is returned
containing fitted values for each observation and each value of
<code>lambda</code>. This means these fits are computed with this observation and
the rest of its fold omitted. The <code>foldid</code> vector is also returned.
Default is keep=FALSE.  If <code>relax=TRUE</code>, then a list of such arrays is
returned, one for each value of 'gamma'. Note: if the value 'gamma=1' is
omitted, this case is included in the list since it corresponds to the
original 'glmnet' fit.</p></td>
    </tr>
    <tr>
      <th>parallel</th>
      <td><p>If <code>TRUE</code>, use parallel <code>foreach</code> to fit each
fold.  Must register parallel before hand, such as <code>doMC</code> or others.
See the example below.</p></td>
    </tr>
    <tr>
      <th>gamma</th>
      <td><p>The values of the parameter for mixing the relaxed fit with the
regularized fit, between 0 and 1; default is <code>gamma = c(0, 0.25, 0.5,
0.75, 1)</code></p></td>
    </tr>
    <tr>
      <th>relax</th>
      <td><p>If <code>TRUE</code>, then CV is done with respect to the mixing
parameter <code>gamma</code> as well as <code>lambda</code>. Default is
<code>relax=FALSE</code></p></td>
    </tr>
    <tr>
      <th>trace.it</th>
      <td><p>If <code>trace.it=1</code>, then progress bars are displayed;
useful for big models that take a long time to fit. Limited tracing if
<code>parallel=TRUE</code></p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Other arguments that can be passed to <code>glmnet</code></p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a list</p><dl>
  <dt><code>cvfits.list</code></dt><dd><p>the list of cross-validated objects for each configuration</p></dd>
  <dt><code>config.list</code></dt><dd><p>the list of considered configuration</p></dd>
  <dt><code>best.config</code></dt><dd><p>the selected best configuration (i.e. the one which minimise the cross-validated mean error)</p></dd>
  <dt><code>fit</code></dt><dd><p>the model obtained with the best configuration</p></dd>
  <dt><code>index.config.w.global.min</code></dt><dd><p>the index of the best configuration in the provided lists (<code>cvfits.list</code> and <code>config.list</code>)</p></dd>

</dl>


  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Alessandro Barberis.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


